# 权限设计
## 设计目标

- 超级管理员创建案件管理员1、案件管理员2、调查员1、调查员2、审阅员1、审阅员2
	- 计算机1 计算机2 安装客户端，显示在计算机管理中
- 案件管理员、调查员、审阅人，看不到任何案件
- 超级管理员创建案件test1
	- （必选）配置计算机：计算机1
		- （必选）配置插件：所有插件
	- （必选）配置计算机：计算机2
		- （必选）配置插件：所有插件
	- （必选）配置案件管理员：案件管理员1（超级管理员/案件管理员1/案件管理员2）
	- （可选）配置调查员：
		- 调查员1
			- 计算机1-系统痕迹权限
		- 调查员2
			- 计算机2-邮件取证权限
    - （可选）配置审阅员：空
- 超级管理员创建案件test2
	- （必选）配置计算机：计算机2
		- （必选）配置插件：密钥检索
	- （必选）配置案件管理员：案件管理员2（超级管理员/案件管理员1/案件管理员2)
	- （可选）配置调查员：
		- 调查员2：
			- 计算机2-密钥检索取证权限
	- （可选）配置审阅员：
		- 审阅员2：
			- 计算机2权限
- 效果
	- 案件管理员1、调查员1看到test1，信息：（调查员：调查员1、调查员2，审阅员：空）
	- 审阅员1看不到任何案件
	- 案件管理员2看到test2 信息（调查员：调查员2，审阅员：审阅员2）
	- 调查员2 看到test1、test2
	- 审阅员2看到test2
- 案件管理员1：打开test1
	- 新建task1
		- 计算机1：全部插件 计算机2：全部插件
		- 调查员：跳过
		- 审阅员
			- 审阅员1-计算机1
			- 审阅员2-计算机2
- 调查员2：打开test2
	- 新建task2
		- 计算机2：密钥检索
- 效果：
	- 案件管理员1：test1 进度（为案件下所有取证任务的进度平均值）：20%，状态：处理中，调查员：调查员1、调查员2，审阅员：审阅员1、审阅员2
		- 可以看到task1 具体信息
	- 调查员1：test1 20%  调查员：调查员1、调查员2，审阅员：审阅员1、审阅员2
		- 看不到task1具体信息
	- 调查员2：test1 20% 调查员：调查员1、调查员2，审阅员：审阅员1、审阅员2
		- 看不到task1详情
	- 调查员2：testk2 忙碌挂起 （test1中取证任务1中的计算机2还未取证完成，需等待同一台机器上的前一个取证任务完成，才能开始）
		- 可以看到task1具体信息
	- 审阅员1：test1 调查员：调查员1、调查员2，审阅员：审阅员1、审阅员2
		- 可以看到task1计算机1的具体信息
	- 审阅员2：test1 （调查员：调查员1、调查员2，审阅员：审阅员1、审阅员2）test2（调查员：调查员2，审阅员：审阅员2）
		- task1 计算机1的信息
		- task2 计算机2的信息

## 数据展示

- 案件：
	- 显示人员分配如 调查员：调查员1、调查员2  审阅员：审阅员1、审阅员2
	- 显示处理进度：案件下面所有取证任务的进度平均值
	- 状态：处理中、等待处理（下面有任务挂起）、处理结束
- 任务:
	
	- 状态：等待执行
- 任务详情
	- 状态：正在运行、等待执行、执行成功
	- 各插件进度： 
- 计算机 （计算机管理只有超级管理员可以使用）
	- 每一次取证任务的历史记录 操作时间、操作类型（安装、取证等），具体内容（如：案件名称，取证哪些插件，正在进行/已完成


##  权限设计过程
用户 - 角色 -功能权限
- 功能权限：
	- 增加用户
	- 编辑用户
	- 删除用户
	- 修改密码
	- 创建案件
	- 分配角色
- 数据权限
	- 案件管理员可以看到分配给他的案件所有权限
	- 调查员可以看到分配到他的案件
	- 调查员可以看到分配到他的取证任务
	- 调查员可以看到他自己创建的取证任务
	- 调查员权限具体到插件
	- 审阅员权限就打到计算机
	



身份

## 数据库
- 用户表
	- id
	- 用户名
	- 密码
	- 联系方式
	- 备注
- 角色表（超级管理员设置的）
	- id
	- 角色名
- 权限表
	- id
	- request url
	- page
	- pid
- 用户角色关联表
- 角色权限关联表
- 案件表
- 取证任务表
- 计算机表
- 插件表
- 案件类型表
- 计算机操作记录表
	- id
	- 计算机id
	- 取证任务id
	- 
- 登录日志表